<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>2 Sizing - VCSP Technical Documentation Hub</title> <!-- Veeam - 16/12/2020 --> <link rel="shortcut icon" href="/docs/assets/images/veeam.ico" type="image/x-icon"> <!-- /Veeam - 16/12/2020 --> <link rel="stylesheet" href="/docs/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>2 Sizing | VCSP Technical Documentation Hub</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="2 Sizing" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Technical documentation from the field for VCSPs" /> <meta property="og:description" content="Technical documentation from the field for VCSPs" /> <link rel="canonical" href="/docs/vbo/blueprint_azure/2_sizing.html" /> <meta property="og:url" content="/docs/vbo/blueprint_azure/2_sizing.html" /> <meta property="og:site_name" content="VCSP Technical Documentation Hub" /> <script type="application/ld+json"> {"url":"/docs/vbo/blueprint_azure/2_sizing.html","@type":"WebPage","description":"Technical documentation from the field for VCSPs","headline":"2 Sizing","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <!-- Veeam - 16/12/2020 --> <a href="/docs/"> <img class="veeam_logo_lp" src="/docs/assets/images/Veeam_logo_peridot_2019.svg" alt="Veeam"/> </a> <button id="menu-button" class="c-hamburger js-hamburger"> <span>menu</span> </button> <!-- /Veeam - 16/12/2020 --> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/" class="nav-list-link">VCSP Documentation Hub</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/automation/" class="nav-list-link">Automation</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/automation/vb365/" class="nav-list-link">Veeam Backup for Microsoft 365</a><!-- Veeam: Removing check for grand parent here to keep security in every section --><!-- /Veeam --> <ul class="nav-list"><li class="nav-list-item "> <a href="/docs/automation/vb365/onboarding.html" class="nav-list-link">Onboarding</a> </li><li class="nav-list-item "> <a href="/docs/automation/vb365/restore-portal.html" class="nav-list-link">Restore Portal</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/automation/vspc/" class="nav-list-link">Veeam Service Provider Console</a><!-- Veeam: Removing check for grand parent here to keep security in every section --><!-- /Veeam --> <ul class="nav-list"><li class="nav-list-item "> <a href="/docs/automation/vspc/onboarding.html" class="nav-list-link">Onboarding</a> </li><li class="nav-list-item "> <a href="/docs/automation/vspc/usage.html" class="nav-list-link">Usage Reporting</a> </li></ul></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vbo/" class="nav-list-link">Veeam Backup for Office 365</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vbo/blueprint/" class="nav-list-link">Blueprint for Success at Scale</a><!-- Veeam: Removing check for grand parent here to keep security in every section --><!-- /Veeam --> <ul class="nav-list"><li class="nav-list-item "> <a href="/docs/vbo/blueprint/1_intro.html" class="nav-list-link">1 Introduction</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/2_architecture.html" class="nav-list-link">2 Architecture</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/3_sizing_assumptions.html" class="nav-list-link">3 Sizing Assumptions</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/4_certificate_management.html" class="nav-list-link">4 Certificate Management</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/5_deploying.html" class="nav-list-link">5 Deploying the RA</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/6_adding_first_tenant.html" class="nav-list-link">6 Adding a Tenant</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/7_ssr.html" class="nav-list-link">7 Self-Service Restores</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/8_scaling.html" class="nav-list-link">8 Scaling the platform</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/9_notifications.html" class="nav-list-link">9 Notifications</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/10_licensing.html" class="nav-list-link">10 Licensing</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/11_monitoring_reporting.html" class="nav-list-link">11 Monitoring & Reporting</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/12_loss_protection.html" class="nav-list-link">12 Loss Protection</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint/13_conclusion.html" class="nav-list-link">13 Conclusion</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vbo/blueprint_azure/" class="nav-list-link">Blueprint for Success in Azure</a><!-- Veeam: Removing check for grand parent here to keep security in every section --><!-- /Veeam --> <ul class="nav-list"><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/1_intro.html" class="nav-list-link">1 Introduction</a> </li><li class="nav-list-item active"> <a href="/docs/vbo/blueprint_azure/2_sizing.html" class="nav-list-link active">2 Sizing</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/3_architecture.html" class="nav-list-link">3 Architecture</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/4_authentication.html" class="nav-list-link">4 Authentication</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/5_runbook.html" class="nav-list-link">5 Deployment</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/6_monitoring.html" class="nav-list-link">6 Monitoring</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/7_data_recovery.html" class="nav-list-link">7 Data Recovery</a> </li><li class="nav-list-item "> <a href="/docs/vbo/blueprint_azure/8_business_case.html" class="nav-list-link">8 Business Case</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vbr/" class="nav-list-link">Veeam Backup & Replication</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/vbr/msp_appliance/" class="nav-list-link">MSP Appliance Guide</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vcc/" class="nav-list-link">Veeam Cloud Connect</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vcc/tenant_restore/" class="nav-list-link">Tenant Restore Procedures</a><!-- Veeam: Removing check for grand parent here to keep security in every section --><!-- /Veeam --> <ul class="nav-list"><li class="nav-list-item "> <a href="/docs/vcc/tenant_restore/1_basic_concept_steps.html" class="nav-list-link">1 Basic Concept Steps</a> </li><li class="nav-list-item "> <a href="/docs/vcc/tenant_restore/2_vcsp_recovery_procedures.html" class="nav-list-link">2 VCSP/MSP Managed Recovery Procedures</a> </li><li class="nav-list-item "> <a href="/docs/vcc/tenant_restore/3_tenant_recovery_procedures.html" class="nav-list-link">3 Tenant Managed Recovery Procedures</a> </li></ul></li><li class="nav-list-item "><a href="/docs/vcc/gfs/" class="nav-list-link">GFS Retention in CC</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vcc/repository_and_copy_job_blueprint/" class="nav-list-link">Repository and Copy Job Blueprint</a><!-- Veeam: Removing check for grand parent here to keep security in every section --><!-- /Veeam --> <ul class="nav-list"><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/1_repository_considerations.html" class="nav-list-link">1 Repository Considerations</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/2_block_size.html" class="nav-list-link">2 Block Size Considerations</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/3_sobr.html" class="nav-list-link">3 SOBR Considerations</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/4_copy_job_consideration.html" class="nav-list-link">4 Job Mode Consideration</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/5_dedupe.html" class="nav-list-link">5 Dedupe Appliance Considerations</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/6_job_maintenance.html" class="nav-list-link">6 Job Maintenance Settings</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/7_backup_copy_settings.html" class="nav-list-link">7 Backup Copy Job Settings</a> </li><li class="nav-list-item "> <a href="/docs/vcc/repository_and_copy_job_blueprint/8_conclusion.html" class="nav-list-link">8 Conclusion</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="/docs/resources/" class="nav-list-link">Resources Page</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search VCSP Technical Documentation Hub" aria-label="Search VCSP Technical Documentation Hub" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/vbo/">Veeam Backup for Office 365</a></li> <li class="breadcrumb-nav-list-item"><a href="/docs/vbo/blueprint_azure/">Blueprint for Success in Azure</a></li> <li class="breadcrumb-nav-list-item"><span>2 Sizing</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <details close=""> <summary class="text-delta">(click to expand table of contents)</summary> <ul id="markdown-toc"> <li><a href="#2-backup-for-office-365-sizing-and-architectural-components" id="markdown-toc-2-backup-for-office-365-sizing-and-architectural-components">2. Backup for Office 365 Sizing and Architectural Components</a> <ul> <li><a href="#21-veeam-office-365-data-sizing-assumptions" id="markdown-toc-21-veeam-office-365-data-sizing-assumptions">2.1. Veeam Office 365 Data Sizing Assumptions</a></li> <li><a href="#22-azure-architecture-compute-requirements" id="markdown-toc-22-azure-architecture-compute-requirements">2.2. Azure Architecture Compute Requirements</a> <ul> <li><a href="#221-vbo365-management-compute-requirements" id="markdown-toc-221-vbo365-management-compute-requirements">2.2.1. VBO365 Management Compute Requirements</a></li> <li><a href="#222-vbo365-proxy-compute-requirements" id="markdown-toc-222-vbo365-proxy-compute-requirements">2.2.2. VBO365 Proxy Compute Requirements</a></li> <li><a href="#223-suggested-azure-vm-sizes" id="markdown-toc-223-suggested-azure-vm-sizes">2.2.3. Suggested Azure VM Sizes</a></li> <li><a href="#224-user-to-server-architecture-translation-table-with-vm-sizes" id="markdown-toc-224-user-to-server-architecture-translation-table-with-vm-sizes">2.2.4. User to Server Architecture Translation Table with VM Sizes</a></li> </ul> </li> <li><a href="#23-vbo365-repositories" id="markdown-toc-23-vbo365-repositories">2.3. VBO365 Repositories</a> <ul> <li><a href="#231-block-storage-requirements-metadata-and-object-storage-backup-data" id="markdown-toc-231-block-storage-requirements-metadata-and-object-storage-backup-data">2.3.1. Block Storage Requirements (Metadata) and Object Storage (Backup Data)</a></li> <li><a href="#232-virtual-network-service-endpoints" id="markdown-toc-232-virtual-network-service-endpoints">2.3.2. Virtual Network Service Endpoints</a></li> </ul> </li> </ul> </li> </ul> </details> <h2 id="2-backup-for-office-365-sizing-and-architectural-components"> <a href="#2-backup-for-office-365-sizing-and-architectural-components" class="anchor-heading" aria-labelledby="2-backup-for-office-365-sizing-and-architectural-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Backup for Office 365 Sizing and Architectural Components </h2> <p>Sizing of a Veeam Backup for Office 365 (VBO365) environment depends on the number of objects the system will protect. <strong>Objects</strong> are defined as a <strong>mailbox</strong>, <strong>archive mailbox</strong>, <strong>shared mailbox</strong>, <strong>OneDrive</strong>, <strong>Personal SharePoint site</strong>, and a <strong>Shared SharePoin site</strong>. The number of users can help to derive the expected number of objects to be protected based on a setup of assumptions from the field. While this is a good estimate, “mileage” may vary. This document focuses on sizing for 1000 users.</p> <h3 id="21-veeam-office-365-data-sizing-assumptions"> <a href="#21-veeam-office-365-data-sizing-assumptions" class="anchor-heading" aria-labelledby="21-veeam-office-365-data-sizing-assumptions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1. Veeam Office 365 Data Sizing Assumptions </h3> <p>The following provides a list of assumptions for reference based on 1000 Users. 1000 users are assumed to have the number of objects tabulated below.</p> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Office 365 Object</strong></th> <th><strong>Quantity</strong></th> </tr> </thead> <tbody> <tr> <td>Exchange Mailboxes</td> <td>1000</td> </tr> <tr> <td>Exchange Archive Mailboxes</td> <td>500</td> </tr> <tr> <td>Exchange Shared Mailboxes</td> <td>75</td> </tr> <tr> <td>OneDrive’s</td> <td>1000</td> </tr> <tr> <td>Personal SharePoint Sites</td> <td>0</td> </tr> <tr> <td>Shared SharePoint Sites</td> <td>15</td> </tr> <tr> <td><strong>Total Number of Objects</strong></td> <td><strong>2590</strong></td> </tr> </tbody> </table></div> <p>The following provides an assumed per user and total space consumption for Office 365 users.</p> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Office 365 Object</strong></th> <th><strong>Quantity</strong></th> </tr> </thead> <tbody> <tr> <td>Office 365 User Data Size</td> <td>10 GB</td> </tr> <tr> <td><strong>Office 365 1000 User Data Size</strong></td> <td><strong>10 TB</strong></td> </tr> </tbody> </table></div> <p>This provides a reference point to extrapolate sizing for any number of users to protect. 1000 users will typically generate about 2,590 objects and utilize about 5TB of storage space.</p> <h3 id="22-azure-architecture-compute-requirements"> <a href="#22-azure-architecture-compute-requirements" class="anchor-heading" aria-labelledby="22-azure-architecture-compute-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2. Azure Architecture Compute Requirements </h3> <h4 id="221-vbo365-management-compute-requirements"> <a href="#221-vbo365-management-compute-requirements" class="anchor-heading" aria-labelledby="221-vbo365-management-compute-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.1. VBO365 Management Compute Requirements </h4> <p>The minimum compute requirements for the VBO365 server is 4 Cores / 8GB RAM and can manage up to 10 proxies and up to 160,000 objects.</p> <p>While it is recommended to have standalone proxies, to save on cost in Azure, this 1st server can be a consolidated VBO365 Management Server + Proxy architecture, initially backing up 2,000 objects at minimum spec (4 Cores / 8GB RAM), which maps to an F4s v2 Azure VM size. This server can be scaled up to a D16s v3 to manage up to 9 additional proxies (a total of 10 proxies including itself) and backup 160,000 objects after scaling out with the 9 additional proxies.</p> <p>On its own, the combined VBO365 + Proxy server can backup 16,000 objects which equates to about 6,000 users at maximum spec (16 Cores / 64GB RAM) based on assumptions in <em>Section 2.1</em>.</p> <h4 id="222-vbo365-proxy-compute-requirements"> <a href="#222-vbo365-proxy-compute-requirements" class="anchor-heading" aria-labelledby="222-vbo365-proxy-compute-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.2. VBO365 Proxy Compute Requirements </h4> <p>VBO365 Proxies are the data movers, reading data from Office 365 and writing data to the backup repository. One standalone Proxy can handle about 16,000 objects. As the number of users grow, compute requirements steer more toward memory consumption. The minimum requirements for a proxy server is 4 Cores / 8 GB RAM to initially backup 2,000 objects and would scale up to 8 Cores / 32 GB RAM to process up to 16,000 objects.</p> <p><strong>Note: When scaling up the Proxy server compute resources, the VBO services should be restarted to become aware of the available new compute resources. This provides more efficient memory allocation.</strong></p> <p><strong>Note: Additional proxies beyond the initial VBO365 server will require the VBO and Proxy instances to be domain joined. Azure Active Directory can be leveraged to accomplish this.</strong></p> <h4 id="223-suggested-azure-vm-sizes"> <a href="#223-suggested-azure-vm-sizes" class="anchor-heading" aria-labelledby="223-suggested-azure-vm-sizes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.3. Suggested Azure VM Sizes </h4> <p>The following table provides suggested Azure VM sizes that can be utilized.</p> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Required CPU (Cores)</strong></th> <th><strong>Required RAM (GB)</strong></th> <th><strong>Azure VM Size (Equivalent)</strong></th> </tr> </thead> <tbody> <tr> <td>4</td> <td>8</td> <td>F4s v2</td> </tr> <tr> <td>4</td> <td>16</td> <td>D4s v3</td> </tr> <tr> <td>8</td> <td>32</td> <td>D8s v3</td> </tr> <tr> <td>16</td> <td>64</td> <td>D16s v3</td> </tr> </tbody> </table></div> <h4 id="224-user-to-server-architecture-translation-table-with-vm-sizes"> <a href="#224-user-to-server-architecture-translation-table-with-vm-sizes" class="anchor-heading" aria-labelledby="224-user-to-server-architecture-translation-table-with-vm-sizes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.4. User to Server Architecture Translation Table with VM Sizes </h4> <p>Based on the previously stated object assumptions, the following table was derived to provide a translation of the number of users to objects, and finally to Azure VMs. Utilize this table to determine the Azure compute architecture needed. The table demonstrates how to scale up and scale out. It consists of the VBO365 server and a number Proxy servers. Of course “mileage” may vary but this provides a reference point.</p> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Number of Users</strong></th> <th><strong>Est. Number of Objects</strong></th> <th><strong>Total Num. of Servers</strong></th> <th><strong>VBO + Proxy Azure VM</strong></th> <th><strong>Proxy Azure VM(s)</strong></th> <th><strong>Last Proxy Azure VM</strong></th> </tr> </thead> <tbody> <tr> <td>500</td> <td>1,295</td> <td>1</td> <td>F4s v2</td> <td> </td> <td> </td> </tr> <tr> <td>750</td> <td>1,943</td> <td>1</td> <td>F4s v2</td> <td> </td> <td> </td> </tr> <tr> <td>1,000</td> <td>2,590</td> <td>1</td> <td>D4s v3</td> <td> </td> <td> </td> </tr> <tr> <td>3,000</td> <td>7,770</td> <td>1</td> <td>D8s v3</td> <td> </td> <td> </td> </tr> <tr> <td>5,000</td> <td>12,950</td> <td>1</td> <td>D8s v3</td> <td> </td> <td> </td> </tr> <tr> <td>6,000</td> <td>15,540</td> <td>1</td> <td>D8s v3</td> <td> </td> <td> </td> </tr> <tr> <td>7,500</td> <td>19,425</td> <td>1</td> <td>D8s v3</td> <td> </td> <td> </td> </tr> <tr> <td>10,000</td> <td>25,900</td> <td>2</td> <td>D8s v3</td> <td> </td> <td>D4s V3</td> </tr> <tr> <td>20,000</td> <td>51,800</td> <td>3</td> <td>D16s v3</td> <td>D8s v3 (x2)</td> <td> </td> </tr> <tr> <td>40,000</td> <td>103,600</td> <td>6</td> <td>D16s v3</td> <td>D8s v3 (x4)</td> <td>F4s v3</td> </tr> <tr> <td>50,000</td> <td>129,500</td> <td>7</td> <td>D16s v3</td> <td>D8s v3 (x6)</td> <td> </td> </tr> <tr> <td>60,000</td> <td>155,400</td> <td>8</td> <td>D16s v3</td> <td>D8s v3 (x7)</td> <td> </td> </tr> </tbody> </table></div> <h3 id="23-vbo365-repositories"> <a href="#23-vbo365-repositories" class="anchor-heading" aria-labelledby="23-vbo365-repositories"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3. VBO365 Repositories </h3> <p>For VBO365, unlike Veeam Backup and Replication (VBR), backup data is stored in a database file unless leveraging object storage. VBO365 repositories are a collection of database files in folder paths that can map to folders in an object storage bucket/container. An independent repository server is not required to host each repository. Instead, repositories are hosted by Proxy servers. A repository cannot be shared/accessed by more than one Proxy server.</p> <p>Also, unlike VBR, retention policies are defined at the repository level rather than the job level. Therefore, for this reason alone each tenant should have their own repository depending on their retention requirements. If a tenant requires more than one retention policy, then a repository needs to be created for each retention policy a tenant has. Therefore, a tenant can have multiple retention policies, thus multiple repositories.</p> <p>A defined repository for each tenant is also the mechanism in which multi-tenancy is achieved at the volume level. Tenant data is segregated into its own backup database file in its own folder on the volume.</p> <p>Repository sizing depends on the storage consumed within Office 365. Assumptions can be made, or reports can be generated in Office 365 to provide metrics. From <em>Section 2.1</em>, field data suggest that a user typically utilizes an assumed 5 GB of storage in Microsoft Office 365. Thus, the required backup space can be computed.</p> <p>There are 2 types of retention, Item-Level Retention and Snapshot-Based Retention. Snap based retention would require more storage space. Refer to the following link to learn more: <a href="https://helpcenter.veeam.com/docs/vbo365/guide/retention_policy.html?ver=40">https://helpcenter.veeam.com/docs/vbo365/guide/retention_policy.html?ver=40</a>.</p> <p><strong>Note: The sizing in this document assumes snapshot based backups.</strong></p> <p>The following sections provides use case scenarios to help provide sizing guidance. This document focuses on building repositories that leverage object storage, specifically Azure Blob.</p> <p><strong>Note: The use of object storage is <em>highly recommended</em> for best reliability and scalability!</strong></p> <h4 id="231-block-storage-requirements-metadata-and-object-storage-backup-data"> <a href="#231-block-storage-requirements-metadata-and-object-storage-backup-data" class="anchor-heading" aria-labelledby="231-block-storage-requirements-metadata-and-object-storage-backup-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.1. Block Storage Requirements (Metadata) and Object Storage (Backup Data) </h4> <p>In Azure it is recommended to leverage Managed Disks to serve as the repository space for all data. Furthermore, it is highly recommended to leverage Object Storage for the Backup data. Use of Object storage means that backup data will no longer be stored in the backup (database) file.</p> <p>The block storage (direct attached to the VBO365 or proxy server) serves as storage space for metadata only (stored in the backup database file) while the backup data resides in the object storage. This minimizes block storage consumption to save on cost, but also provides greater data reduction in comparison to block storage.</p> <p>The expected sizing for the metadata volume is about 1-1.5% of the Office 365 data. Additionally, backup data offers a 40-55% compression. The following table provides the estimated storage space required for the metadata volume based on <em>Section 2.1</em> assumptions, as well as the Microsoft Disk sizes.</p> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Num of Users</strong></th> <th><strong>Microsoft Office 365 Data (TB)</strong></th> <th><strong>Estimated (1.1%) Required Metadata Size (GB)</strong></th> <th><strong>Microsoft Disk Sizes (GB) for Metadata</strong></th> <th><strong>Estimated (45%) Compressed Backup Data Size (TB)</strong></th> </tr> </thead> <tbody> <tr> <td>500</td> <td>5.0</td> <td>55.0</td> <td>64</td> <td>3.25</td> </tr> <tr> <td>750</td> <td>7.5</td> <td>82.5</td> <td>128</td> <td>4.88</td> </tr> <tr> <td>1,000</td> <td>10.0</td> <td>110.0</td> <td>128</td> <td>6.50</td> </tr> <tr> <td>3,000</td> <td>30.0</td> <td>330.0</td> <td>512</td> <td>19.50</td> </tr> <tr> <td>5,000</td> <td>50.0</td> <td>550.0</td> <td>1024</td> <td>32.50</td> </tr> <tr> <td>6,000</td> <td>60.0</td> <td>660.0</td> <td>1024</td> <td>39.00</td> </tr> <tr> <td>7,500</td> <td>75.0</td> <td>825.0</td> <td>1024</td> <td>48.75</td> </tr> <tr> <td>10,000</td> <td>100.0</td> <td>1,100.0</td> <td>2,048</td> <td>65.00</td> </tr> <tr> <td>20,000</td> <td>200.0</td> <td>2,200</td> <td>4,096</td> <td>130.00</td> </tr> <tr> <td>40,000</td> <td>400.0</td> <td>4,400</td> <td>8,192</td> <td>260.00</td> </tr> <tr> <td>50,000</td> <td>500.0</td> <td>5,500</td> <td>8,192</td> <td>325.00</td> </tr> <tr> <td>60,000</td> <td>600.0</td> <td>6,600</td> <td>8.192</td> <td>390.00</td> </tr> </tbody> </table></div> <h4 id="232-virtual-network-service-endpoints"> <a href="#232-virtual-network-service-endpoints" class="anchor-heading" aria-labelledby="232-virtual-network-service-endpoints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.2. Virtual Network Service Endpoints </h4> <p>Virtual Network (VNet) Service Endpoints provide secure and direct connectivity to Azure services via an optimized route over the Azure backbone network. Endpoints allow you to secure your critical Azure service resources to only your virtual networks. Service Endpoints enable private IP addresses in the VNet to reach the endpoint of an Azure service without needing a public IP address on the VNet and can essentially avoid egress costs by preventing traffic from leaving the VNet.</p> <p>Refer to the following link for more information: <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoints-overview">https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoints-overview</a>.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
